<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog</title>
    <link rel="stylesheet" href="css/index.css">
    <style>
        /* 响应式适配（16:9比例示例） */
        .responsive-iframe {
            width: 100%;
            height: 0;
            padding-bottom: 56.25%;
            /* 16:9比例计算：9/16=56.25% */
            position: relative;

        }

        .responsive-iframe .full-width-iframe {
            position: absolute;
            width: 100%;
            height: 100%;
            left: 0;
            top: 0;
            border: none;
            /* 去除边框 */
            margin: 0;
            padding: 0;
            display: block;
            /* 隐藏滚动条方案 */
            scrollbar-width: none;
            /* Firefox */
            -ms-overflow-style: none;
            /* IE/Edge */
        }

        /* Chrome/Safari隐藏滚动条 */
        .full-width-iframe::-webkit-scrollbar {
            display: none;
        }
    </style>
</head>

<body>
    <ul id="nav">
        <li class="slide1"></li>
        <li class="slide2"></li>
        <!-- <li><a href="../index.html">首页</a></li> -->
        <li><a href="#" class="read-at-night">夜读</a></li>
        <li><a href="#" class="styles-case">样式案例</a></li>
        <!-- <li><a href="#"></a></li>
        <li><a href="#"></a></li> -->
    </ul>
    <div class="responsive-iframe">
        <iframe src="./pages/readAtNight.html" class="full-width-iframe" scrolling="no"></iframe>
    </div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="./js/read.js"></script>
<script>

    var currentWidth = $("#nav li:nth-of-type(3) a").parent("li").width();
    var current = $("li:nth-of-type(3) a").position();
    $("#nav .slide1").css({ left: +current.left, width: currentWidth });
    // 选择所有匹配的元素
    document.querySelectorAll('.styles-case').forEach(element => {
        // 为每个元素添加点击事件监听
        element.addEventListener('click', function (e) {
            // 这里编写点击后的处理逻辑
            console.log('元素被点击', e.target);
            // 获取第一个匹配的iframe元素
            const iframe = document.querySelector('iframe.full-width-iframe');

            // 安全修改src（推荐方案）
            if (iframe) {
                // 推荐使用完整的URL格式
                iframe.src = './pages/stylesCase.html';

                // 可选：添加加载事件监听
                iframe.onload = () => {
                    console.log('iframe内容已加载');
                };

                // 可选：处理错误
                iframe.onerror = () => {
                    console.error('iframe加载失败');
                };
            } else {
                console.warn('未找到匹配的iframe元素');
            }
        });
    });
    document.querySelectorAll('.read-at-night').forEach(element => {
        // 为每个元素添加点击事件监听
        element.addEventListener('click', function (e) {
            // 这里编写点击后的处理逻辑
            console.log('元素被点击', e.target);
            // 获取第一个匹配的iframe元素
            const iframe = document.querySelector('iframe.full-width-iframe');

            // 安全修改src（推荐方案）
            if (iframe) {
                // 推荐使用完整的URL格式
                iframe.src = './pages/readAtNight.html';

                // 可选：添加加载事件监听
                iframe.onload = () => {
                    console.log('iframe内容已加载');
                };

                // 可选：处理错误
                iframe.onerror = () => {
                    console.error('iframe加载失败');
                };
            } else {
                console.warn('未找到匹配的iframe元素');
            }
        });
    });
</script>

</html>
<!-- <!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>动态页面切换</title>
    <style>
        /* 保持之前按钮样式不变 */
        .button-group { /* 保持一致 */ }
        .menu-button { /* 保持不变 */ }
        .menu-button.active  { /* 保持原有激活样式 */ }
 
        /* 内容容器样式 */
        .content-container {
            position: relative;
            min-height: 400px;
            margin: 20px;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        }
 
        /* 加载动画 */
        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255,255,255,0.9);
            display: none;
            justify-content: center;
            align-items: center;
            border-radius: 8px;
        }
 
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #2196F3;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
 
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
 
        /* 错误提示 */
        .error-message {
            color: #ff4444;
            padding: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="button-group">
        <button 
            class="menu-button active" 
            onclick="loadPage('page1.html',  this)"
        >
            功能一 
        </button>
        <button 
            class="menu-button" 
            onclick="loadPage('page2.html',  this)"
        >
            功能二 
        </button>
        <button 
            class="menu-button" 
            onclick="loadPage('page3.html',  this)"
        >
            功能三 
        </button>
    </div>
 
    <div class="content-container">
        <div class="loading-overlay">
            <div class="loading-spinner"></div>
        </div>
        <div id="page-content">
             初始默认内容 
            <h2>欢迎使用系统</h2>
            <p>请点击上方按钮加载对应功能</p>
        </div>
    </div>
 
    <script>
        let currentButton = document.querySelector('.menu-button.active'); 
        const contentContainer = document.getElementById('page-content'); 
        const loadingOverlay = document.querySelector('.loading-overlay'); 
 
        // 内容缓存池 
        const pageCache = new Map();
 
        async function loadPage(url, button) {
            // 如果是当前激活按钮直接返回 
            if (button === currentButton) return;
 
            // 显示加载状态 
            showLoading();
 
            try {
                // 检查缓存 
                let content;
                if (pageCache.has(url))  {
                    content = pageCache.get(url); 
                } else {
                    // 异步获取页面内容 
                    const response = await fetch(url);
                    if (!response.ok)  throw new Error('加载失败');
                    content = await response.text(); 
                    pageCache.set(url,  content);
                }
 
                // 更新界面 
                updateActiveButton(button);
                updateHistory(url);
                renderContent(content);
            } catch (error) {
                showError('内容加载失败，请稍后重试');
            } finally {
                hideLoading();
            }
        }
 
        function updateActiveButton(button) {
            currentButton.classList.remove('active'); 
            button.classList.add('active'); 
            currentButton = button;
        }
 
        function renderContent(html) {
            contentContainer.innerHTML  = html;
            // 执行注入的脚本 
            const scripts = contentContainer.getElementsByTagName('script'); 
            Array.from(scripts).forEach(script  => {
                const newScript = document.createElement('script'); 
                newScript.text  = script.text; 
                document.body.appendChild(newScript).parentNode.removeChild(newScript); 
            });
        }
 
        function showLoading() {
            loadingOverlay.style.display  = 'flex';
            contentContainer.style.opacity  = '0.3';
        }
 
        function hideLoading() {
            loadingOverlay.style.display  = 'none';
            contentContainer.style.opacity  = '1';
        }
 
        function showError(message) {
            contentContainer.innerHTML  = `
                <div class="error-message">
                    <h3>⚠️ 错误</h3>
                    <p>${message}</p>
                </div>
            `;
        }
 
        // 历史记录管理 
        function updateHistory(url) {
            history.pushState({  url }, '', `#${url}`);
        }
 
        // 处理浏览器前进/后退 
        window.addEventListener('popstate',  (event) => {
            if (event.state?.url)  {
                const button = Array.from(document.querySelectorAll('.menu-button')) 
                    .find(btn => btn.onclick.toString().includes(event.state.url)); 
                if (button) button.click(); 
            }
        });
 
        // 初始加载Hash内容 
        window.addEventListener('DOMContentLoaded',  () => {
            if (location.hash)  {
                const page = location.hash.substring(1); 
                const button = Array.from(document.querySelectorAll('.menu-button')) 
                    .find(btn => btn.onclick.toString().includes(page)); 
                button?.click();
            }
        });
    </script>
</body>
</html> -->